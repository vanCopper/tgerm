---
title: 2012年9月 至 2014年5月
layout: post
---
<span style="color: #ff6600;"><strong>原创博文，转载请声明</strong></span>

###纠结后的决定

2012年6月份，”五分钟“解散了。这家让我获得最大最快成长的公司，也是在这家公司我收获了几位志同道合的好朋友。六月份至八月份在家照顾生病的家人。八月份回上海后面临两家公司的工作机会开始纠结，第一家公司是我喜欢的公司，技术氛围很好，管理上也很人性化，是一家真的会考虑员工成长的公司。可惜的是公司短期内没有Flash3D的项目。第二家公司是业内非常有“名气”的公司，在上海游戏圈有：“南X梦，北游族”的美誉，一周六天班，早十点晚十点的工作时间。但他们准备做的是一款Flash3D游戏。这就很纠结了，喜欢第一家公司却想做Flash3D的项目。经过反复的纠结，纠结，再纠结后决定去做Flash3D的项目，就这样进入了“南X梦”。

###技术攻坚战

可能在那些玩端游或U3D的大神看来，Flash3D可能只是个玩具。不错，真的只是个玩具。没有完善成熟的游戏引擎，没有既有的工作流，没有牛逼的性能。。。但在当时看来，插件普及率貌似是唯一的优势。后来项目上线后，才发现如今多数玩家的浏览器都已经被 360浏览器，猎豹浏览器，qq浏览器占领，但这几个浏览器都有一个蛋疼的功能：提供两种浏览模式，兼容模式和极速模式。在极速模式下，FlashPlayer是没有办法开启硬件加速的，这就导致很多玩家进游戏发现游戏卡，就直接关掉。虽然我们做了硬件加速是否开启的检测并提示玩家开启硬件加速，但这仍不能阻止玩家直接关掉游戏。这是多么痛的领悟，你们感受下。  
在那个阳光明媚的周六，我来到了公司。讨论完大概的开发计划，我觉得我之前的心理准备是多么的不充足。但已没有退路了，开搞吧。接下来的日子一边底层一边找志同道合的小伙伴，团队直到项目进行四个月后才终得完整。

渲染引擎是没得选的，只能用Away3D。但它只是一个渲染引擎，用来做一款大型ARPG游戏是远远不能满足需求的。所以我们花了很大的精力来扩展和修改Away3D。

  1. 3DS模型解析：多材质
  2. DDS贴图解析 : Dxt1,Dxt5
  3. 文件多线程解析
  4. 地形追踪
  5. 骨骼绑定
  6. 利用四元数将骨骼上限修改为58根
  7. NavMesh寻路
  8. NavMesh网格自动生成工具
  9. 3DMax场景导出插件
  10. 场景编辑器
  11. 粒子编辑器
  12. 各种特效：HDR,GrayScale,HeatHaze,刀光，Phantom等
  13. 3D文字
  14. 3DUI

这还只是列了修改和扩展的一部分，你们感受下Away3D的坑。整个开发过程就是不停的填坑，苦逼程度也就可想而知了。上面的列表中的“文件多线程解析”和 “3DMax场景导出插件”为性能和工作流效率都提高了不少。

文件多线程解析: 在游戏中文件和贴图都是以二进制流的方式加载，然后将数据丢到解析线程执行解析，完成后将数据再丢回主线程。很大程度上提高了解析速度并保证了主文件的帧频。

3DMax场景导出插件: 可参照之前的一篇Blog：<a href="http://blog.as3er.com/?p=783">http://blog.as3er.com/?p=783</a>

填完上面的坑，接下来就是填策划的坑。他们说策划在项目组中最大的作用就是拉仇恨。我不打算在这篇文章中拉仇恨。太多策划被“策划是游戏的灵魂”“我们是最懂玩家的人”等各种主流洗脑思想的影响。但我觉得不管怎样你都要先对你的合作伙伴负责，不能总拿一些自己都看不懂的策划案给我们做开发。固然我也跟策划各种PK，但还好我们有个靠谱的制作人。修改和返工都在我们可掌控的范围，为此非常欣慰。

###政治

在稍大点的公司，项目的成败不是取决你事情做的好坏，而“政治”上是否有优势才是成败的关键。

###未来

锻炼身体，思考方向，码些自己的代码，写些想写的文。